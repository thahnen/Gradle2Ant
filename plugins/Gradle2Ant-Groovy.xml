<?xml version="1.0" encoding="UTF-8" ?>
<project name="Gradle2Ant-Groovy">
    <description>
        Call Gradle from Ant - Gradle Groovy plugin!
    </description>

    <!-- General properties! -->
    <dirname property="current.dir" file="${ant.file}" />

    <!-- import general Gradle2Ant.xml library -->
    <import file="${current.dir}/../Gradle2Ant.xml" />


    <!-- Gradle task "compileGroovy" to compile Groovy source files after Java code -->
    <macrodef name="gradle.compileGroovy" description="Gradle task 'compileGroovy'">
        <attribute name="project"   default="" />
        <attribute name="args"      default="" />
        <attribute name="wrapper"   default="gradle" />
        <attribute name="dir"       default="${current.dir}" />

        <sequential>
            <gradle task="compileGroovy"
                    project="@{project}"
                    args="@{args}"
                    wrapper="@{wrapper}"
                    dir="@{dir}" />
        </sequential>
    </macrodef>

    <!-- Gradle task "compileTestGroovy" to compile Groovy test source files after Java code -->
    <macrodef name="gradle.compileTestGroovy" description="Gradle task 'compileTestGroovy'">
        <attribute name="project"   default="" />
        <attribute name="args"      default="" />
        <attribute name="wrapper"   default="gradle" />
        <attribute name="dir"       default="${current.dir}" />

        <sequential>
            <gradle task="compileTestGroovy"
                    project="@{project}"
                    args="@{args}"
                    wrapper="@{wrapper}"
                    dir="@{dir}" />
        </sequential>
    </macrodef>


    <!-- Gradle task "groovydoc" to create Groovy documentation (equivalten to "javadoc") -->
    <macrodef name="gradle.groovydoc" description="Gradle task 'groovydoc'">
        <attribute name="project"   default="" />
        <attribute name="args"      default="" />
        <attribute name="wrapper"   default="gradle" />
        <attribute name="dir"       default="${current.dir}" />

        <sequential>
            <gradle task="groovydoc"
                    project="@{project}"
                    args="@{args}"
                    wrapper="@{wrapper}"
                    dir="@{dir}" />
        </sequential>
    </macrodef>
</project>
